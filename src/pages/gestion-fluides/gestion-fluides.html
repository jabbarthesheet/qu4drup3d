<ion-content>


      <!-- HEADER MENU  -->
      <div class="header"> 

        <div (click)="retourHome()" class="backButton">
        <ion-icon start color="turquoise-fonce" name="arrow-back"></ion-icon>
        Retour
        </div>
Apports et produits sanguins 
</div>
          <br>
    
                <!-- HEADER MON PATIENT  -->

          <ion-item color="turquoise-fonce"> 
            <ion-label>
              <p class="MonPatient">{{sexeMF}} - {{ageLecture}} ans ( = {{AgeNum}} mois) - {{PoidsNum}} kg - {{Taille}} cm</p> 
              <p class="MonPatient">Estomac {{EstomacOuiNon}} - Jeune {{DureeJeune}} h</p>
              <p class="MonPatient">Allergie : {{Allergie}}</p></ion-label> 
          </ion-item>
      
          <br>
     <!-- END HEADER -->

  
      <!-- ITEMS CALCULES-->
   
      <ion-list>
        <ion-item-group>

          <ion-item-divider (click)="ToggleApportsJournaliers()">
            <ion-label color="dark-turquoise">             
              <span *ngIf="AgeNum >= 24">Apports journaliers - {{CategorieAge}} de {{ageLecture}} ans</span>
              <span *ngIf="AgeNum < 24">Apports journaliers - {{CategorieAge}} de {{AgeNum}} mois</span>
            <ion-icon *ngIf="!isShownApportsJournaliers" class="OpenCloseIcon" name="open"  style="zoom:0.9"></ion-icon>
            <ion-icon *ngIf="isShownApportsJournaliers" class="OpenCloseIcon" name="close" style="zoom:0.9"></ion-icon>
            </ion-label>
          </ion-item-divider>
            
              <ion-grid  fixed="true" *ngIf="isShownApportsJournaliers" class="TableApportsHeader">
                <ion-row  >
                  <ion-col >
                    Apports cibles
                  </ion-col>
                  <ion-col>
                    En dose poids (/kg)
                  </ion-col>
                  <ion-col>
                    Pour mon patient
                  </ion-col>            
                </ion-row>

                <ion-row class="TableApportsEven">
                  <ion-col>
                    Eau (mL/j)
                  </ion-col>
                  <ion-col>
                    {{StandardEau}}
                  </ion-col>
                  <ion-col>
                    {{Eau}}
                  </ion-col>            
                </ion-row>

                <ion-row class="TableApportsOdd">
                <ion-col>
                  Calories (KCal/j)
                </ion-col>
                <ion-col>
                  {{StandardKCal}}
                </ion-col>
                <ion-col>
                  {{KCal}}
                </ion-col>            
              </ion-row>

              <ion-row class="TableApportsEven">
              <ion-col>
                Glucides (g/j)
              </ion-col>
              <ion-col>
                {{StandardGlucides}}
              </ion-col>
              <ion-col>
                {{Glucides}}
              </ion-col>            
            </ion-row>

            <ion-row class="TableApportsOdd">
            <ion-col>
              Acides aminés (g/j)
            </ion-col>
            <ion-col>
              {{StandardAcidesAmines}}
            </ion-col>
            <ion-col>
              {{AcidesAmines}}
            </ion-col>            
          </ion-row>
            
          <ion-row class="TableApportsEven">
          <ion-col>
            Lipides (g/j)
          </ion-col>
          <ion-col>
            {{StandardLipides}}
          </ion-col>
          <ion-col>
            {{Lipides}}
          </ion-col>            
        </ion-row>

        <ion-row class="TableApportsOdd">
        <ion-col>
        Sodium (mg/j)
          </ion-col>
        <ion-col>
          {{StandardSodium}}
        </ion-col>
        <ion-col>
          {{Sodium}}
        </ion-col>            
      </ion-row>

      <ion-row class="TableApportsEven">
      <ion-col>
        Potassium (mg/j)
          </ion-col>
        <ion-col>
          {{StandardPotassium}}
        </ion-col>
        <ion-col>
          {{Potassium}}
        </ion-col>            
      </ion-row>

      <ion-row class="TableApportsOdd">
      <ion-col>
        Calcium (mg/j)
          </ion-col>
        <ion-col>
          {{StandardCalcium}}
        </ion-col>
        <ion-col>
          {{Calcium}}
        </ion-col>            
      </ion-row>

      <ion-row class="TableApportsEven">
      <ion-col>
        Phosphore (mg/j)
          </ion-col>
        <ion-col>
          {{StandardPhosphore}}
        </ion-col>
        <ion-col>
          {{Phosphore}}
        </ion-col>            
      </ion-row>

      <ion-row class="TableApportsOdd">
      <ion-col>
        Magnesium (mg/j)
          </ion-col>
        <ion-col>
          {{StandardMagnesium}}
        </ion-col>
        <ion-col>
          {{Magnesium}}
        </ion-col>            
      </ion-row>

                </ion-grid>

         
          
          <ion-item-divider (click)="ToggleApports()">
            <ion-label color="dark-turquoise">Apports hydriques
          <ion-icon *ngIf="!isShownApports" class="OpenCloseIcon" name="open" style="zoom:0.9"></ion-icon>
          <ion-icon *ngIf="isShownApports" class="OpenCloseIcon" name="close" style="zoom:0.9"></ion-icon>
            </ion-label>
          </ion-item-divider> 


          <ion-card *ngIf="isShownApports" class="drogueContainer">

            <ion-item><ion-label class="drogueInduction">
              Soluté proposé : {{Solute}}
            </ion-label></ion-item>

            <ion-item>
              <ion-label class="drogueInduction">
                Apports horaires = {{ApportBaseHoraire}} + {{PertesRespiratoires}} + {{CompPertesChir}} = <b>{{TotalHoraire}} mL/h</b>
                <p class="dilutionDrogueInduction"> - 1. Besoins de base : {{ApportBaseHoraire}} mL/h</p>
                <p class="dilutionDrogueInduction"> - 2. Compensation respiratoire : {{PertesRespiratoires}} mL/h</p>
                <p class="comment"> &nbsp; &nbsp; Pertes estimées à 17 mL/m²SC/h, applicable sur SIOT ou ML</p>
                <p class="dilutionDrogueInduction"> - 3. Compensation chirurgicale : {{CompPertesChir}} mL/h</p>
                <p class="comment"> &nbsp; &nbsp; Pertes estimées à {{PertesChir}} mL/kg/h</p>
                </ion-label>
            </ion-item>

            <ion-item>
              <ion-label color="turquoise-fonce" class="drogueInduction">Pertes chirurgicales estimées :</ion-label>
            <ion-select #newselect (ionChange)="UpdatePerteChir()" [(ngModel)]="PertesChir" interface="action-sheet"
            okText="OK" cancelText="Retour" class="drogueInduction">
             <ion-option checked="true" value="2" color="turquoise-fonce">2 mL/kg/h</ion-option>
             <ion-option value="5" color="turquoise-fonce">5 mL/kg/h</ion-option>
             <ion-option value="10" color="turquoise-fonce">10 mL/kg/h</ion-option>
            </ion-select>
            </ion-item>

          <ion-item>
            <ion-label class="drogueInduction">Compensation jeûne de {{DureeJeune}} heures : <b>{{CompJeune}} mL</b>
            <p class="dilutionDrogueInduction">- {{CompJeune1}} mL/h pendant 1h</p>
            <p class="dilutionDrogueInduction">- puis {{CompJeune2}} mLh pendant 2h</p>
          </ion-label>
          </ion-item>

          <ion-item>
            <ion-label class="drogueInduction">Total : 
            <p class="dilutionDrogueInduction">- H1 : {{Total1}} mL</p>
            <p class="dilutionDrogueInduction">- H2, H3 : {{Total2et3}} mL/h</p>
            <p class="dilutionDrogueInduction">- Heures suivantes : {{TotalHoraire}} mL/h </p>
          </ion-label>
          </ion-item>

        </ion-card>

        <ion-item-divider (click)="ToggleHypoTA()">
          <ion-label color="dark-turquoise">Hypotension artérielle per-opératoire
          <ion-icon *ngIf="!isShownHypoTA" class="OpenCloseIcon" name="open"  style="zoom:0.9"></ion-icon>
          <ion-icon *ngIf="isShownHypoTA" class="OpenCloseIcon" name="close" style="zoom:0.9"></ion-icon>
          </ion-label>
        </ion-item-divider>
          
          <ion-card class="drogueContainer"  *ngIf="isShownHypoTA">
          <ion-card-content>
            <p class="dilutionDrogueInduction">PAM < 20% de la valeur avant induction.</p>
            <p class="dilutionDrogueInduction"><i>Enfant de {{ageLecture}} ans, PAS minimale de +/- {{PAShypoTA}} mmHg</i></p>
            <br>
            <p class="drogueInduction">Mesures à envisager :</p>
            <p class="dilutionDrogueInduction"> - NaCl 0,9% - 10 mL/kg : 
              <br> &nbsp; &nbsp; <b> - {{VolRemplissage}} mL </b> de <b>{{SoluteRemplissage}}</b>
              <br> &nbsp; &nbsp; - renouvelable une fois
            </p>
            <p class="dilutionDrogueInduction"> - Ephédrine IVD ({{PosoEphedrine}}) :  <b>{{AdminEphedrine}} mg</b>, renouvelable</p>
            <p class="dilutionDrogueInduction"> - En seconde intention, Albumine 10%, 10 mL/kg : 
              <br> &nbsp; &nbsp; <b> - {{AdminAlbumine}} mL sur 30 minutes</b> 
              <br> &nbsp; &nbsp; - mélange équivolume Albumine 20% & NaCl 0.9%</p>
          </ion-card-content>
        </ion-card>

          

          <ion-item-divider (click)="ToggleCGR()">
            <ion-label color="danger">Hémorragie aiguë
          <ion-icon *ngIf="!isShownCGR" class="OpenCloseIcon" name="open" style="zoom:0.9"></ion-icon>
          <ion-icon *ngIf="isShownCGR" class="OpenCloseIcon" name="close" style="zoom:0.9"></ion-icon>
            </ion-label>
          </ion-item-divider> 

          <ion-card *ngIf="isShownCGR" class="drogueContainer">
          
          <ion-card class="drogueContainer">
          <ion-card-header color="danger">Globules rouges </ion-card-header>
          <ion-item>
            <ion-label class="drogueInduction">
              Masse sanguine estimée : <b>{{MasseSanguine}} mL</b>
              <p *ngIf="AgeNum <= 24" class="comment">{{MasseSanguineAge}} mL/kg à {{AgeNum}} mois</p>
              <p *ngIf="AgeNum > 24" class="comment">{{MasseSanguineAge}} mL/kg à {{ageLecture}} ans</p>
          </ion-label>
          </ion-item>

          <ion-item class="HbItem">
            <ion-label color="danger" class="drogueInduction">Hb mesurée : {{Hbmesuree}} g/dL</ion-label>
          </ion-item>
          <ion-range class="HbRange" max="16" step="0.5" color="danger" (ionChange)="MesureeHb()" [(ngModel)]="Hbmesuree"> </ion-range>

<br><br><br><br>

          <ion-item class="HbItem">
             <ion-label color="turquoise-fonce" class="drogueInduction">Souhaitée : {{Hbsouhaitee}} g/dL</ion-label>
          </ion-item>
          <ion-range class="HbRange" color="turquoise-fonce" max="16" step="0.5" (ionChange)="SouhaiteeHb()" [(ngModel)]="Hbsouhaitee"> </ion-range>


          <ion-item>
            <ion-label class="drogueInduction">Transfuser : {{VolCGR}}
              <p class="dilutionDrogueInduction"><b>Pour corriger {{DiffHb}} g/dL d'hémoglobine</b></p>
              <p class="comment">4 mL/kg/g/dL d'Hb à corriger </p>
            </ion-label>
        </ion-item>
      </ion-card>
      <hr>
      <ion-card class="drogueContainer">
        <ion-card-header color="warning">Autres produits sanguins</ion-card-header>
          <ion-item>
            <ion-label class="drogueInduction">
              <p *ngIf="AgeNum <= 180" class="posologieDrogueInduction">Posologie proposée : 1 UP/5kg avant 15 ans </p>
              <p *ngIf="AgeNum > 180" class="posologieDrogueInduction">Posologie proposée : 1 UP/7kg après 15 ans </p>
              CPA : {{UnitesPlaquettaires}} UI Plaquettaires
              <p class="comment">1 UP = 5x10^10 Pq</p></ion-label>
          </ion-item>
          <ion-item>
            <ion-label class="drogueInduction">
              <p class="posologieDrogueInduction">Posologie proposée : 20 mL/kg</p>
             PFC : {{VolPFC}} mL de PFC
              <p class="comment">1 poche = +/- 200 mL</p>
            </ion-label>
          </ion-item>
        </ion-card>
        <hr>


        <ion-card class="drogueContainer">
          <ion-card-header>Médicaments hémorragie aiguë</ion-card-header>
          <ion-item>
            <ion-label class="drogueInduction">
              <p class="posologieDrogueInduction">Posologie proposée : 20 mg/kg</p>
             Ac. Tranexamique (Exacyl® 0,5g/5mL) : {{ExacylChocHemorragique}} mg IVL
              <p class="comment">Administration : sur 1 min, insuffisant rénal : demi-dose</p>
            </ion-label>
          </ion-item>

        <ion-item>
          <ion-label class="drogueInduction">
            <p class="posologieDrogueInduction">Posologie proposée : 20 mg/kg</p>
           Fibrinogène  (Clottafact® 1,5 g/100mL) : {{FibrinogengeChocHemorragique}} mg IVL
            <p class="comment">Administration : 300mg/min soit 20 mL/min de préparation pure</p>
          </ion-label>
        </ion-item>

        <ion-item>
          <ion-label class="drogueInduction">
            <p class="posologieDrogueInduction">Posologie proposée : 90 µg/kg</p>
           Facteur VIIa  (Novoseven® 1 mg) : {{NovosevenChocHemorragique}} µg IVL
            <p class="comment">Administration sur 5 minutes</p>
          </ion-label>
        </ion-item>
      </ion-card>

      </ion-card>
      

        </ion-item-group>
        </ion-list>
<hr>
        <ion-card class="nb" padding>   Si ce n'est pas déjà fait, renseignez la durée du jeune dans les options afin d'ajuster les apports hydriques en conséquence.
          <br><br>   
          <button ion-button small color="turquoise-fonce" (click)="displayOptions()"> Options </button></ion-card>

</ion-content>

