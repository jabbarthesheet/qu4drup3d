<ion-header>
  <br>

        <!-- HEADER MENU  -->
        <div class="header"> 

          <div (click)="retourHome()" class="backButton">
          <ion-icon start color="turquoise-fonce" name="arrow-back"></ion-icon>
          Retour
          </div>
          ALR</div><br>

            <ion-toolbar>

              <ion-searchbar *ngIf = "!this.searchBarType"
              class="interventionSearchbar"
              [(ngModel)]="searchTerm"
              (ionChange)="setFilteredChirurgie()"
              placeholder="Intervention..."
              inputmode="text"
            ></ion-searchbar><br *ngIf = "!this.searchBarType"><ion-icon *ngIf = "!this.searchBarType" zoom:1.5 name="swap" (click)="toggleSearchBars()"></ion-icon>
            
            <ion-searchbar *ngIf = "this.searchBarType"
            class="specialiteSearchbar"
            [(ngModel)]="searchTermSpecialite"
            (ionChange)="setFilteredSpecialite()"
            placeholder="Specialite..."
            inputmode="text"
            ></ion-searchbar><br *ngIf = "this.searchBarType"><ion-icon *ngIf = "this.searchBarType" zoom:1.5 name="swap" (click)="toggleSearchBars()"></ion-icon>
            
            
            
            </ion-toolbar>


              </ion-header>
       <!-- END HEADER -->


<ion-content>

        <div padding class="patientHighlight">
          Enfant de <span *ngIf="AgeNum <= 24">{{AgeNum}} mois</span><span *ngIf="AgeNum > 24">{{ageLecture}} ans</span> et {{PoidsNum}} kg
          <br> Allergie : <span *ngIf="!Allergie">non renseigné</span> <span *ngIf="Allergie">{{Allergie}}</span>
        </div>

        <div *ngIf="!searchTerm && !searchTermSpecialite">
          <ion-card (click)="openPageGeneralites()" class="drogueContainer">
            <ion-card-content  class="cardRecos">
            <div class="headerProtocoles">
              Particularités de l'ALR en pédiatrie
            </div>
            <hr>
            <div class="contentProtocoles">
              <ion-icon start name="bulb"></ion-icon> &nbsp; <b>Généralités</b>
            </div>
            </ion-card-content>
            </ion-card>  
          </div>

          <hr>

        <div *ngIf="!searchTerm && !searchTermSpecialite">
        <ion-card (click)="openPageALR(index)" class="drogueContainer" *ngFor="let entry of pagesALR, let index = index">
          <ion-card-content  class="cardRecos">
          <div class="headerProtocoles">
            {{entry.soustitre}}
          </div>
          <hr>
          <div class="contentProtocoles">
            <ion-icon start name="flag"></ion-icon> &nbsp; <b>{{entry.titre}}</b>
          </div>
          </ion-card-content>
          </ion-card>  

        </div>


          <div *ngIf="searchTerm || searchTermSpecialite">

            <div class="detersion" *ngIf="AgeNum <= 3">Détersion cutanée : chlorexidine avant 3 mois</div>
            <div class="detersion" *ngIf="AgeNum > 3">Détersion cutanée : bétadine jaune après 3 mois</div>


            <ion-card padding class="chirurgieContainer" *ngFor="let chir of chirurgie, let index = index" [attr.data-index]="index">
                  <div class="comment" *ngIf="chir.recommandationALR == 'Non recommandée'">
                  <ion-chip class="ALRnonRecommandee">
                    <ion-label>{{chir.intitule}} </ion-label>
                  </ion-chip> - anesthésie loco-régionale non recommandée</div>
        
                  <div class="comment" *ngIf="chir.recommandationALR == 'Recommandée'">
                  <ion-chip class="ALRRecommandee">
                    <ion-label>{{chir.intitule}}</ion-label>
                  </ion-chip> - anesthésie loco-régionale recommandée</div>

                  <!-- Technique A produit 1 -->  
                <div *ngIf="chir.techniqueproposeeA">
                <span class="specialiteChirurgie">Technique recommandée : {{chir.techniqueproposeeA}}</span> 
                <br>
                <span *ngIf="chir.produitALR1A" class="specialiteChirurgie">Produit : {{chir.produitALR1A}} - {{chir.posologieALR1A}} soit {{PoidsRound * chir.posologieNumALR1A}} mg/côté (ou {{PoidsRound * chir.posologieNumALR1A/chir.concentrationProduit1A}} mL/côté).</span> 
                <br>
                <span *ngIf="chir.dosetoxiqueALR1A" class="specialiteChirurgie">Dose toxique : {{chir.dosetoxiqueALR1A}} - soit {{PoidsRound * chir.dosetoxiqueNumALR1A}} mg (ou {{PoidsRound * chir.dosetoxiqueNumALR1A/chir.concentrationProduit1A}} mL).</span> 
                <br> 
                <span *ngIf="chir.adjuvantALRA" class="specialiteChirurgie">Adjuvant proposé : {{chir.adjuvantALRA}} soit {{PoidsRound}} µg dilués dans la seringue.</span>
                <br>
              </div>

                <!-- Technique A produit 2 NON REMPLI POUR LE MOMENT -->  


                <!-- Technique B produit 1   --> 
                 <div *ngIf="chir.techniqueproposeeB">
                --<br>
                 <span *ngIf="chir.techniqueproposeeB" class="specialiteChirurgie">Technique alternative : {{chir.techniqueproposeeB}}</span> 
                 <br>
                 <span *ngIf="chir.produitALR1B" class="specialiteChirurgie">Produit : {{chir.produitALR1B}} - {{chir.posologieALR1B}} soit {{(PoidsRound * chir.posologieNumALR1B)}} mg/côté (ou {{PoidsRound * chir.posologieNumALR1B/chir.concentrationProduit1B}} mL/côté).</span> 
                 <br>
                 <span *ngIf="chir.dosetoxiqueALR1B" class="specialiteChirurgie">Dose toxique : {{chir.dosetoxiqueALR1B}} - soit {{PoidsRound * chir.dosetoxiqueNumALR1B}} mg (ou {{PoidsRound * chir.dosetoxiqueNumALR1B/chir.concentrationProduit1B}} mL).</span> 
                 <br> 
                 <span *ngIf="chir.adjuvantALRB" class="specialiteChirurgie">Adjuvant proposé : {{chir.adjuvantALRB}} soit {{PoidsRound}} µg dilués dans la seringue.</span>
                 <br>
                </div> 

                <!-- Technique B produit 2 NON REMPLI POUR LE MOMENT -->  

              </ion-card>
              </div>
</ion-content>

